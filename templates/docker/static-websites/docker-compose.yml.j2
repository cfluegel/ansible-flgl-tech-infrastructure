version: '3.9'

services:
  blog:
    image: cfluegel/blog-flgl-tech:latest
    restart: unless-stopped
    labels:
        - "traefik.enable=true"
        - "traefik.http.routers.blogflgltech.entrypoints=https"
        - "traefik.http.routers.blogflgltech.rule=(Host(`blog.flgl.tech`))"
        - "traefik.http.routers.blogflgltech.tls=true"
        - "traefik.http.routers.blogflgltech.tls.certresolver=http"
        - "traefik.http.routers.blogflgltech.service=blogflgltech"
        - "traefik.http.services.blogflgltech.loadbalancer.server.port=80"
        - "traefik.docker.network=proxy"
    networks:
      - proxy

networks:
  proxy:
    external: true